deploy (0.3~c2c+1) lenny squeeze; urgency=low

  * move on git
  * keep the original environement, see #1
  * don't copy perms, owner and group, see #2
  * deploy database schema, see #3

 -- St√©phane Brunner <stephane.brunner@camptocamp.com>  Tue, 09 Apr 2013 11:16:25 +0200

deploy (0.2.3~c2c+1) lenny squeeze; urgency=low

  * post-restore-code: check if deploy script exists
  * deploy-wms.cfg: update remote hosts
  * all hooks: check presence of commands before running it
  * try to run buildout in hooks/post-restore-code

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 23 Aug 2011 12:17:42 +0200

deploy (0.2.2~c2c+1) lenny squeeze; urgency=low

  * remote call: only filter deploy cmd

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 11 Mar 2011 17:33:09 +0100

deploy (0.2.1~c2c+2) lenny squeeze; urgency=low

  * rename deploy.py to bin/deploy

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 14 Feb 2011 15:26:54 +0100

deploy (0.2-69~c2c+1) lenny squeeze; urgency=low

  * on remote mode, don't take the tables cmd line arg (#22738)
  * exit if the remote archive creation fail
  * use distutils.core instead of setuptools

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 11 Feb 2011 10:34:04 +0100

deploy (0.2-68~c2c+1) lenny; urgency=low

  * log formatter: replace brackets with parentheses

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 04 Jan 2011 08:52:07 +0100

deploy (0.2-67~c2c+2) lenny; urgency=low

  * exit if pre-create-code or post-create-database failed.
  * fix pre-create-code and post-create-code exec bit.
  * remove .svn dirs

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 03 Nov 2010 14:14:46 +0100

deploy (0.2-66) lenny; urgency=low

  * deploy-chtopo-cw3: add ability to limit reverse deploy to passed tables

 -- Antoine Abt <antoine.abt@camptocamp.com>  Wed, 01 Sep 2010 11:31:37 +0200

deploy (0.2-65) lenny; urgency=low

  * deploy-chtopo-cw3: fixes use witch custom config file name

 -- Antoine Abt <antoine.abt@camptocamp.com>  Tue, 24 Aug 2010 10:21:37 +0200

deploy (0.2-64) lenny; urgency=low

  * deploy-chtopo-cw3: really fixes remote db dump

 -- Antoine Abt <antoine.abt@camptocamp.com>  Tue, 10 Aug 2010 10:39:26 +0200

deploy (0.2-63) lenny; urgency=low

  * deploy-chtopo-cw3: fixes broken remote db dump

 -- Antoine Abt <antoine.abt@camptocamp.com>  Mon, 09 Aug 2010 16:53:33 +0200

deploy (0.2-62) lenny; urgency=low

  * deploy-chtopo-cw3: add ability to reverse deploy db (see #22738)

 -- Antoine Abt <antoine.abt@camptocamp.com>  Mon, 09 Aug 2010 13:40:49 +0200

deploy (0.2-61) lenny; urgency=low

  * deploy-chtopo-cw3: don't use the HEAD tag to create htdocs/LAST_CHANGED (see #24060)

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 21 Jul 2010 16:34:34 +0200

deploy (0.2-60) lenny; urgency=low

  * deploy-chtopo-cw3: create the htdocs/LAST_CHANGED and htdocs/REVISION files (see #24060)

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 21 Jul 2010 16:14:02 +0200

deploy (0.2-59) lenny; urgency=low

  * add --no-owner in config databases.restore_tmp

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 29 Jun 2010 12:37:11 +0200

deploy (0.2-58) lenny; urgency=low

  * deploy-chtopo-database: remove old server
  * deploy-chtopo-database: stop apache on database-swap.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 29 Jun 2010 12:25:53 +0200

deploy (0.2-57) lenny; urgency=low

  * post-restore-code: try to load the target config file

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 04 Jun 2010 09:15:53 +0200

deploy (0.2-56) lenny; urgency=low

  * deploy-chtopo-database: update remote hosts

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 19 May 2010 13:46:04 +0200

deploy (0.2-55) lenny; urgency=low

  * createdb command in config file.
  * pg_restore command for tmp database in config file.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 14 May 2010 07:41:08 +0200

deploy (0.2-54) lenny; urgency=low

  * deploy-chtopo-database: pre-restore-database-swap restart apache

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 12 May 2010 15:28:28 +0200

deploy (0.2-53) lenny; urgency=low

  * deploy-chtopo-database: don't run {pre|post}-restore-database-swap
    when restoring tables

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 12 May 2010 09:29:42 +0200

deploy (0.2-52) lenny; urgency=low

  * deploy-chtopo-database: restart postgresql on pre-restore-database-swap

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 11 May 2010 13:59:44 +0200

deploy (0.2-51) lenny; urgency=low

  * deploy-chtopo-database: new {pre|post}-restore-database-swap hook

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 10 May 2010 16:41:37 +0200

deploy (0.2-50) lenny; urgency=low

  * deploy-chtopo-database: use a temporary database when restoring a database
  * deploy-chtopo-database: add --no-owner to the pg_restore command

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 04 May 2010 16:51:28 +0200

deploy (0.2-49) lenny; urgency=low

  * deploy-chtopo-database: don't stack the restore commands: run immediately.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 04 May 2010 11:48:11 +0200

deploy (0.2-48) lenny; urgency=low

  * more debug logs

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 30 Apr 2010 16:10:55 +0200

deploy (0.2-47) lenny; urgency=low

  * deploy-chtopo-database: define remote_hosts

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 30 Apr 2010 14:47:16 +0200

deploy (0.2-46) lenny; urgency=low

  * cw3 restore: don't stop/start apache but graceful it at post-restore
  * new deploy-chtopo-database package

 -- Frederic Junod <frederic.junod@camptocamp.com>  Thu, 29 Apr 2010 08:43:03 +0200

deploy (0.2-45) lenny; urgency=low

  * use 'TRUNCATE TABLE' instead of 'DELETE FROM'

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 26 Apr 2010 10:47:01 +0200

deploy (0.2-44) lenny; urgency=low

  * Don't vacuum the databases by default (we are mostly working with read-only
    databases)

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 26 Apr 2010 10:41:21 +0200

deploy (0.2-43) lenny; urgency=low

  * deploy-chtopo-cw3: call cw3setup.php in post-restore-code

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 07 Apr 2010 10:46:13 +0200

deploy (0.2-42) lenny; urgency=low

  * deploy-chtopo-cw3: remove index.html and create index.php (symlink to client.php)

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 31 Mar 2010 10:38:37 +0200

deploy (0.2-41) lenny; urgency=low

  * deploy-chtopo-cw3: clean cartoweb3 on pre-create-code

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 31 Mar 2010 09:43:48 +0200

deploy (0.2-40) lenny; urgency=low

  * deploy-chtopo-wms, deploy-chtopo-cw3: update hosts

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 26 Mar 2010 08:02:42 +0100

deploy (0.2-39) lenny; urgency=low

  * new hook: post-create-database

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 15 Feb 2010 09:22:03 +0100

deploy (0.2-38) lenny; urgency=low

  * databases: handle schemas

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 05 Feb 2010 08:20:26 +0100

deploy (0.2-37) lenny; urgency=low

  * don't delete the source package too early.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 26 Jan 2010 08:43:34 +0100

deploy (0.2-36) lenny; urgency=low

  * when remote deploying with the delete option, also remove the source package.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 22 Jan 2010 14:10:33 +0100

deploy (0.2-35) lenny; urgency=low

  * 'psql' command in config file

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 16 Dec 2009 11:20:38 +0100

deploy (0.2-34) lenny; urgency=low

  * deploy.cfg: comment the src and dest code options
  * minor spelling fix
  * 'dropdb' command in config file

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 15 Dec 2009 14:35:19 +0100

deploy (0.2-33) lenny; urgency=low

  * create the 'packages_dir' directory

 -- Frederic Junod <frederic.junod@camptocamp.com>  Thu, 10 Dec 2009 16:18:08 +0100

deploy (0.2-32) lenny; urgency=low

  * add --delete option to rsync

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 08 Dec 2009 16:08:19 +0100

deploy (0.2-31) lenny; urgency=low

  * fix remote_hosts in deploy-wms.cfg

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 20 Oct 2009 12:12:39 +0200

deploy (0.2-30) lenny; urgency=low

  * support additional config file via 'include' in the main section
  * add a debian/conffiles
  * moved config file from /etc/deploy.cfg to /etc/deploy/deploy.cfg

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 13 Oct 2009 15:02:54 +0200

deploy (0.2-29) lenny; urgency=low

  * hooks/post-restore-code: set SVN_CO_OPTIONS

 -- Frederic Junod <frederic.junod@camptocamp.com>  Thu, 17 Sep 2009 12:15:16 +0200

deploy (0.2-28) lenny; urgency=low

  * fix typo in symbolic target assign.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 08 Sep 2009 08:24:52 +0200

deploy (0.2-27) lenny; urgency=low

  * add comments in config file.
  * pass the symbolic target host to the hooks ($TARGET variable).
  * upper case variable names passed to the hooks.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 07 Sep 2009 12:47:28 +0200

deploy (0.2-26) lenny; urgency=low

  * change packages_dir from /var/sig/deploy-archives/ to /var/cache/deploy/

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 31 Aug 2009 09:01:29 +0200

deploy (0.2-25) lenny; urgency=low

  * fix typo in remote_extract

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 21 Aug 2009 09:40:16 +0200

deploy (0.2-24) lenny; urgency=low

  * don't display hooks stdout and stderr if running in slient mode.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 13 Jul 2009 15:05:45 +0200

deploy (0.2-23) lenny; urgency=low

  * stop if a remote copy or deploy failed

 -- Frederic Junod <frederic.junod@camptocamp.com>  Thu, 09 Jul 2009 10:41:38 +0200

deploy (0.2-22) lenny; urgency=low

  * simplify deploy.remote.remote_extract and handle quite option in remote call.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 08 Jul 2009 15:34:39 +0200

deploy (0.2-21) lenny; urgency=low

  * fix log messages in database.restore.
  * return the good exit code in remote mode.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 06 Jul 2009 12:05:26 +0200

deploy (0.2-20) lenny; urgency=low

  * fix database.restore error message

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 19 Jun 2009 11:30:08 +0200

deploy (0.2-19) lenny; urgency=low

  * fix the 'srcdir' value in code.restore

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 05 Jun 2009 10:25:09 +0200

deploy (0.2-18) lenny; urgency=low

  * '--no-time-dir' forces '-k' in remote mode.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Thu, 04 Jun 2009 10:30:42 +0200

deploy (0.2-17) lenny; urgency=low

  * hooks env variable via the new '-e' option, works in remote mode.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 03 Jun 2009 16:26:20 +0200

deploy (0.2-16) lenny; urgency=low

  * fix indent, add comments
  * remote mode: added --no-time-dir option to always create the package in the same
    directory.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 03 Jun 2009 14:13:29 +0200

deploy (0.2-15) lenny; urgency=low

  * don't copy hooks .svn

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 03 Jun 2009 11:55:09 +0200

deploy (0.2-14) lenny; urgency=low

  * nicer output in logs
  * give hooks a working dir
  * the magic 'here' path is now always absolute

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 27 May 2009 16:35:19 +0200

deploy (0.2-13) lenny; urgency=low

  * fix bug in database restore 

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 19 May 2009 14:32:46 +0200

deploy (0.2-12) lenny; urgency=low

  * add pre-create-code and post-create-code hooks
  * nicer variable name in hooks
  * fix comments typo in deploy.cfg
  * add 'ignore' option in code and files components

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 15 May 2009 11:43:04 +0200

deploy (0.2-11) lenny; urgency=low

  * allow to deploy only database tables
  * allow to cleanely deactivate the 'file', 'code', 'database' or 'apache' component 

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 15 May 2009 10:38:04 +0200

deploy (0.2-10) lenny; urgency=low

  * allow to deploy project without databases

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 15 Apr 2009 17:04:07 +0200

deploy (0.2-9) lenny; urgency=low

  * include symlinks in code and files

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 03 Apr 2009 11:58:36 +0200

deploy (0.2-8) lenny; urgency=low

  * be nice when restoring packages without componant

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 20 Mar 2009 14:29:20 +0100

deploy (0.2-7) lenny; urgency=low

  * bugfix
  * remote deploy hosts

 -- Frederic Junod <frederic.junod@camptocamp.com>  Thu, 19 Mar 2009 14:52:14 +0100

deploy (0.2-6) lenny; urgency=low

  * run default hooks
  * remote deploy

 -- Frederic Junod <frederic.junod@camptocamp.com>  Wed, 18 Mar 2009 12:34:56 +0100

deploy (0.2-5) lenny; urgency=low

  * fix path ending (alex)
  * custom hookdir in 'main' section	

 -- Frederic Junod <frederic.junod@camptocamp.com>  Mon, 16 Mar 2009 08:11:03 +0100

deploy (0.2-4) lenny; urgency=low

  * handle projects with not files

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 13 Mar 2009 11:07:55 +0100

deploy (0.2-3) lenny; urgency=low

  * do a 'deploy-$PROJECT.sh -r' instead of '-i'

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 13 Mar 2009 08:30:01 +0100

deploy (0.2-2) lenny; urgency=low

  * fix try catch typo

 -- Frederic Junod <frederic.junod@camptocamp.com>  Thu, 12 Mar 2009 16:08:05 +0100

deploy (0.2-1) lenny; urgency=low

  * be more fault tolerant with shutil.copystat

 -- Frederic Junod <frederic.junod@camptocamp.com>  Thu, 12 Mar 2009 15:57:56 +0100

deploy (0.2-0) lenny; urgency=low

  * new (quite) stable release

 -- Frederic Junod <frederic.junod@camptocamp.com>  Thu, 12 Mar 2009 14:17:11 +0100

deploy (0.1-2) lenny; urgency=low

  * fix indent error

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 10 Mar 2009 09:42:55 +0100

deploy (0.1-1) lenny; urgency=low

  * Handle hooks dir

 -- Frederic Junod <frederic.junod@camptocamp.com>  Fri, 06 Mar 2009 11:13:33 +0100

deploy (0.1-0) lenny; urgency=low

  * Initial Release.

 -- Frederic Junod <frederic.junod@camptocamp.com>  Tue, 03 Mar 2009 08:23:51 +0100
